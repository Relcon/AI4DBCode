{"ast":null,"code":"import _Message2 from \"element-ui/lib/theme-chalk/message.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Message from \"element-ui/lib/message\";\nimport axios from 'axios';\nimport baseUrl from \"@/api/baseUrl\";\nconst service = axios.create({\n  baseURL: baseUrl\n});\naxios.defaults.timeout = 120000;\naxios.defaults.timeoutErrorMessage = 'axios  timeout';\n\n// request interceptor\nservice.interceptors.request.use(config => {\n  // do something before request is sent\n  if (config.method === 'get') {\n    config.params = {\n      ...config.params\n    };\n  } else {\n    if (config.headers['Content-Type'] !== 'multipart/form-data') {\n      config.data = {\n        ...config.data\n      };\n    }\n  }\n  return config;\n}, error => {\n  // do something with request error\n  console.log(error); // for debug\n  return Promise.reject(error);\n});\nservice.interceptors.response.use(response => {\n  const res = response.data;\n  console.log(\"res:\", res);\n  if (res.code !== 0) {\n    _Message({\n      message: res.msg || 'Error',\n      type: 'error',\n      duration: 5 * 1000\n    });\n    return Promise.reject(new Error(res.msg || 'Error'));\n  } else {\n    return res;\n  }\n}, error => {\n  _Message({\n    message: error.msg,\n    type: 'error',\n    duration: 5 * 1000\n  });\n  return Promise.reject(error);\n});\nexport function post(url, data) {\n  return service({\n    url: url,\n    method: 'post',\n    data: data\n  });\n}\nexport default service;","map":{"version":3,"names":["axios","baseUrl","service","create","baseURL","defaults","timeout","timeoutErrorMessage","interceptors","request","use","config","method","params","headers","data","error","console","log","Promise","reject","response","res","code","_Message","message","msg","type","duration","Error","post","url"],"sources":["/Users/xuanhe/Documents/our-paper/partition/code/demo_database_partition-main/web/src/api/request.js"],"sourcesContent":["import axios from 'axios'\nimport {Message} from 'element-ui'\nimport baseUrl from \"@/api/baseUrl\";\n\nconst service = axios.create({\n  baseURL: baseUrl\n})\n\naxios.defaults.timeout = 120000\naxios.defaults.timeoutErrorMessage = 'axios  timeout'\n\n// request interceptor\nservice.interceptors.request.use(\n  config => {\n    // do something before request is sent\n    if (config.method === 'get') {\n      config.params = {\n        ...config.params\n      }\n    } else {\n      if (config.headers['Content-Type'] !== 'multipart/form-data') {\n        config.data = {\n          ...config.data,\n        }\n      }\n    }\n    return config\n  },\n  error => {\n    // do something with request error\n    console.log(error) // for debug\n    return Promise.reject(error)\n  }\n)\n\n\nservice.interceptors.response.use(\n  response => {\n    const res = response.data\n    console.log(\"res:\", res)\n    if (res.code !== 0) {\n      Message({\n        message: res.msg || 'Error',\n        type: 'error',\n        duration: 5 * 1000\n      })\n      return Promise.reject(new Error(res.msg || 'Error'))\n    } else {\n      return res\n    }\n  },\n  error => {\n    Message({\n      message: error.msg,\n      type: 'error',\n      duration: 5 * 1000\n    })\n    return Promise.reject(error)\n  }\n)\n\nexport function post (url, data) {\n  return service({\n    url: url,\n    method: 'post',\n    data: data\n  })\n}\n\nexport default service\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,OAAO,MAAM,eAAe;AAEnC,MAAMC,OAAO,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC3BC,OAAO,EAAEH;AACX,CAAC,CAAC;AAEFD,KAAK,CAACK,QAAQ,CAACC,OAAO,GAAG,MAAM;AAC/BN,KAAK,CAACK,QAAQ,CAACE,mBAAmB,GAAG,gBAAgB;;AAErD;AACAL,OAAO,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9BC,MAAM,IAAI;EACR;EACA,IAAIA,MAAM,CAACC,MAAM,KAAK,KAAK,EAAE;IAC3BD,MAAM,CAACE,MAAM,GAAG;MACd,GAAGF,MAAM,CAACE;IACZ,CAAC;EACH,CAAC,MAAM;IACL,IAAIF,MAAM,CAACG,OAAO,CAAC,cAAc,CAAC,KAAK,qBAAqB,EAAE;MAC5DH,MAAM,CAACI,IAAI,GAAG;QACZ,GAAGJ,MAAM,CAACI;MACZ,CAAC;IACH;EACF;EACA,OAAOJ,MAAM;AACf,CAAC,EACDK,KAAK,IAAI;EACP;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC;EACnB,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CACF,CAAC;AAGDd,OAAO,CAACM,YAAY,CAACa,QAAQ,CAACX,GAAG,CAC/BW,QAAQ,IAAI;EACV,MAAMC,GAAG,GAAGD,QAAQ,CAACN,IAAI;EACzBE,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEI,GAAG,CAAC;EACxB,IAAIA,GAAG,CAACC,IAAI,KAAK,CAAC,EAAE;IAClBC,QAAA,CAAQ;MACNC,OAAO,EAAEH,GAAG,CAACI,GAAG,IAAI,OAAO;MAC3BC,IAAI,EAAE,OAAO;MACbC,QAAQ,EAAE,CAAC,GAAG;IAChB,CAAC,CAAC;IACF,OAAOT,OAAO,CAACC,MAAM,CAAC,IAAIS,KAAK,CAACP,GAAG,CAACI,GAAG,IAAI,OAAO,CAAC,CAAC;EACtD,CAAC,MAAM;IACL,OAAOJ,GAAG;EACZ;AACF,CAAC,EACDN,KAAK,IAAI;EACPQ,QAAA,CAAQ;IACNC,OAAO,EAAET,KAAK,CAACU,GAAG;IAClBC,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,CAAC,GAAG;EAChB,CAAC,CAAC;EACF,OAAOT,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,OAAO,SAASc,IAAIA,CAAEC,GAAG,EAAEhB,IAAI,EAAE;EAC/B,OAAOb,OAAO,CAAC;IACb6B,GAAG,EAAEA,GAAG;IACRnB,MAAM,EAAE,MAAM;IACdG,IAAI,EAAEA;EACR,CAAC,CAAC;AACJ;AAEA,eAAeb,OAAO"},"metadata":{},"sourceType":"module"}